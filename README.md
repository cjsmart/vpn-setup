# vpn-setup
ansible playbook для установки и настройки vpn и связанных сервисов на чистой виртуалке

## Запуск
1. Убеждаемся, что на удалённой машине есть доступ через публичный ключ. Чаще всего на чистой машине есть пользователь `root` с нужным ключом в `/root/.ssh/authorized_keys`. 
   Можно использовать и другого пользователя с sudo-правами, главное также чтобы у нас был доступ по публичному ключу, это требуется для запуска ansible-плейбуков.
2. Выполняем первичную настройку, добавим нового пользователя, под которым будем запускать основной плейбук:
   ```bash
   ansible-playbook --user <пользователь> -i <ip-адрес-машины>, bootstrap.yml
   ```
   Запятая тут обязательна, чтобы ansible взял адрес из командной строки, а не из inventories
3. Запускаем основной плейбук:
   ```bash
   ansible-playbook -i <ip-адрес-машины> playbook.yml
   ```